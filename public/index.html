<!DOCTYPE html>
<html lang="en">


<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>StudBud</title>
    <link href="scss/main.scss" rel="stylesheet" type="text/css">
    <link href="icons/studbud-icon.svg" rel="icon" sizes="any" type="image/svg+xml">
    <link rel="stylesheet" href="../jkanban/dist/jkanban.min.css">
    <script src="../jkanban/dist/jkanban.min.js"></script>
    <script src="https://kit.fontawesome.com/1ca5ba8557.js" crossorigin="anonymous"></script>    
</head>

<div class="sidebar">
    <nav class="vertical">
        <ul class="nav-links">
            <li class="nav-logo"><a href="#home"><img src="icons/studbudLogo.png" alt="StudBud logo" width="125px" height="auto"></a></li>
            <li class="nav-item"><a href="#home" class="active"><i class="fas fa-home"></i>HOME</a></li>                   
            <li class="nav-item"><a href="#page1"><i class="fas fa-list"></i>KANBAN</a></li>
            <li class="nav-item"><a href="#page2"><i class="fas fa-stopwatch"></i>TIMER</a></li>
            <li class="nav-item"><a href="#page3"><i class="fas fa-book"></i>DICTIONARY</a></li>
        </ul>
    </nav>
</div>


<body class="app-container">

    <div id="home" class="page-container">
        <h1>Welcome!</h1>
        <p>StudBud is your personalised study app dedicated to helping you manage your schedule.</p>

        <div id="task-container" class="task-container">
            <h1>Task List</h1>
            <form id="taskform">
                <div class="row">
                    <label for="task">Task:</label>
                    <div class="input">
                        <input type="text" name="task" id="taskInput">
                    </div>
                </div>

                <div class="row">
                    <label for="dueDate">Due Date:</label>
                    <div class="input"> 
                        <input type="date" name="date" id="dueDateInput">
                    </div>
                </div>
                
                <div class="row">
                    <label for="completionTime">Completion Time:</label>
                    <div class="input">
                        <input type="time" name="completionTime" id="completionTimeInput">
                    </div>
                </div>

                <div class="row">
                    <label for="estimatedTime">Estimated Completion Time (mins):</label>
                    <div class="input">
                        <input type="number" name="estimatedTime" id="estimatedTimeInput">
                    </div>
                </div>

                <div class="row">
                    <label for="priority">Task Priority:</label>
                    <div class="input">
                        <select name="priority" id="priorityInput">
                            <option value="">Select an option</option>
                            <option value="Low">Low</option>
                            <option value="Medium">Medium</option>
                            <option value="High">High</option>
                        </select>
                    </div>
                </div>
            <button type="submit">Submit</button>
            </form>
            <ul id="tasklist">
            </ul>
        </div>
    </div>

    <div id="page1" class="page-container">
        <div id="task-container" class="task-container">
            <h1>Kanban Board</h1>
            <div id="myKanban"></div>
            <button id="addDefault">Add board</button>
            <br />
            <button id="addToDo">Add element in "To Do" Board</button>
            <br />
            <button id="removeBoard">Remove "Done" Board</button>
            <br />
            <button id="removeElement">Remove "My Task Test"</button>
            <script src="../jkanban/dist/jkanban.js"></script>
            <script>
                var KanbanTest = new jKanban({
                        element: "#myKanban",
                        gutter: "10px",
                        widthBoard: "300px",
                        itemHandleOptions:{
                        enabled: false,
                        },
                        click: function(el) {
                        console.log("Trigger on all items click!");
                        },
                        context: function(el, e) {
                        console.log("Trigger on all items right-click!");
                        },
                        dropEl: function(el, target, source, sibling){
                        console.log(target.parentElement.getAttribute('data-id'));
                        console.log(el, target, source, sibling)
                        },
                        buttonClick: function(el, boardId) {
                        console.log(el);
                        console.log(boardId);
                        // create a form to enter element
                        var formItem = document.createElement("form");
                        formItem.setAttribute("class", "itemform");
                        formItem.innerHTML =
                            '<div class="form-group"><textarea class="form-control" rows="2" autofocus></textarea></div><div class="form-group"><button type="submit" class="btn btn-primary btn-xs pull-right">Submit</button><button type="button" id="CancelBtn" class="btn btn-default btn-xs pull-right">Cancel</button></div>';

                        KanbanTest.addForm(boardId, formItem);
                        formItem.addEventListener("submit", function(e) {
                            e.preventDefault();
                            var text = e.target[0].value;
                            KanbanTest.addElement(boardId, {
                            title: text
                            });
                            formItem.parentNode.removeChild(formItem);
                        });
                        document.getElementById("CancelBtn").onclick = function() {
                            formItem.parentNode.removeChild(formItem);
                        };
                        },
                        itemAddOptions: {
                        enabled: true,
                        content: '+',
                        class: 'custom-button',
                        footer: true
                        },
                        boards: [
                        {
                            id: "_todo",
                            title: "To Do",
                            class: "info,good",
                            item: [
                            {
                                id: "_test_delete",
                                title: "Try drag this (Look the console)",
                                drag: function(el, source) {
                                console.log("START DRAG: " + el.dataset.eid);
                                },
                                dragend: function(el) {
                                console.log("END DRAG: " + el.dataset.eid);
                                },
                                drop: function(el) {
                                console.log("DROPPED: " + el.dataset.eid);
                                }
                            },
                            {
                                title: "Try Click This!",
                                click: function(el) {
                                alert("click");
                                },
                                context: function(el, e){
                                alert("right-click at (" + `${e.pageX}` + "," + `${e.pageX}` + ")")
                                },
                                class: ["peppe", "bello"]
                            }
                            ]
                        },
                        {
                            id: "_working",
                            title: "Doing",
                            class: "warning",
                        },
                        {
                            id: "_done",
                            title: "Done",
                            class: "success",
                        }
                        ]
                    });

                    var toDoButton = document.getElementById("addToDo");
                    toDoButton.addEventListener("click", function() {
                        KanbanTest.addElement("_todo", {
                        title: "Test Add"
                        });
                    });

                    var addBoardDefault = document.getElementById("addDefault");
                    addBoardDefault.addEventListener("click", function() {
                        KanbanTest.addBoards([
                        {
                            id: "_default",
                            title: "Kanban Default",
                            item: [
                            {
                                title: "Default Item"
                            },
                            {
                                title: "Default Item 2"
                            },
                            {
                                title: "Default Item 3"
                            }
                            ]
                        }
                        ]);
                    });

                    var removeBoard = document.getElementById("removeBoard");
                    removeBoard.addEventListener("click", function() {
                        KanbanTest.removeBoard("_done");
                    });

                    var removeElement = document.getElementById("removeElement");
                    removeElement.addEventListener("click", function() {
                        KanbanTest.removeElement("_test_delete");
                    });

                    var allEle = KanbanTest.getBoardElements("_todo");
                    allEle.forEach(function(item, index) {
                        //console.log(item);
                    });
            </script>
        </div>
    </div>

    <div id="page2" class="page-container">
        <div id="task-container" class="task-container">
            <h1>Timer</h1>
            <nav class="sub-nav">
                <ul class="nav-links">
                    <li class="nav-item"><a href="#page2-1" class="active">Stopwatch</a></li>
                    <li class="nav-item"><a href="#page2-2">Pomodoro</a></li>
                </ul>
            </nav>
            

            <div id="page2-1" class="sub-page-container">
                <div class="timer-container">
                    <div class="stopwatch">
                        <span class="time" id="display">00:00:00:00</span>
                        <div class="stopwatch-buttons">
                            <button class="buttonPlay">
                                <img id="playButton" src="icons/play-solid.svg">
                                
                                <img id="pauseButton" src="icons/pause-solid.svg">
                            </button>

                            <button class="buttonReset">
                                <img id="resetButton" src="icons/stop-solid.svg">
                            </button>
                        </div>
                    </div>
                </div>
            </div>


            <div id="page2-2" class="sub-page-container" style="display: none;">
                <div class="timer-container">
                    <div id="pomodoro-container">
                        <div id="pomodoro-clock">
                            <div id="pomodoro-timer"></div>
                            <div id="pomodoro-clock-actions">
                                <button id="pomodoro-start">
                                    <i class="fas fa-play" id="play-icon"></i>
                                    <i class="fas fa-pause hidden" id="pause-icon"></i>
                                  </button>
                                  <button id="pomodoro-stop" class="hidden">
                                    <i class="fas fa-stop"></i>
                                  </button>
                            </div>
                            <!-- new -->
                            <div id="pomodoro-clock-title">
                                <span>Changes made here will reflect at the start of the next work / break session</span>
                            </div>
                            <div id="pomodoro-clock-actions">
                                <div class="pomodoro-input">
                                    <label>Work Duration</label>
                                    <input name="input-work-duration" id="input-work-duration" type="number" />
                                </div>
                            <div class="pomodoro-input">
                              <label>Break Duration</label>
                              <input name="input-break-duration" id="input-break-duration" type="number" />
                            </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="page3" class="page-container">
        <div id="task-container" class="task-container">
            <h1>Dictionary</h1>
                <div class="form-wrap">
                    <div class="input-wrap">
                        <input type="text" placeholder="Search for a word" id="input">
                        <button id="search">Search</button>
                    </div>
                </div>
            </section>
            <div class="data-container">
                <span class="loading">Loading...</span>
                <p class="def"></p>
                <div class="audio"></div>
                <div class="not__found"></div>
            </div>
        </div>
    </div>


    <script src="script.js"></script>
</body>


</html>